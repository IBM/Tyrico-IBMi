BUILDLIB:=TYRICO

clean:
	-system "DLTMOD MODULE(${BUILDLIB}/TYRICO)"
	-system "DLTSRVPGM SRVPGM(${BUILDLIB}/TYRICO)"
	-system "DLTBNDDIR BNDDIR(${BUILDLIB}/BNDDIR)"

create_tyrico_mod:
	system "CRTCPPMOD MODULE(${BUILDLIB}/TYRICO) SRCSTMF('$(CURDIR)/tyrico.cpp') OPTION(*EVENTF) SYSIFCOPT(*IFS64IO) DBGVIEW(*SOURCE) TERASPACE(*YES *TSIFC) STGMDL(*SNGLVL) DTAMDL(*p128) DEFINE(DEBUG_ENABLED) OUTPUT(*PRINT) TGTCCSID(37)" 

create_srvpgm: create_tyrico_mod
	system "CRTSRVPGM SRVPGM(${BUILDLIB}/TYRICO) MODULE(${BUILDLIB}/TYRICO) EXPORT(*ALL) ACTGRP(*CALLER)"

create_bnddir:
	system "CRTBNDDIR BNDDIR(${BUILDLIB}/BNDDIR)"

add_to_bnddir: create_bnddir create_srvpgm
	system "ADDBNDDIRE BNDDIR(${BUILDLIB}/BNDDIR) OBJ((TYRICO/TYRICO *SRVPGM))"

all: clean add_to_bnddir 